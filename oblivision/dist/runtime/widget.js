System.register(["esri/geometry/projection","jimu-arcgis","jimu-core","jimu-core/react","jimu-ui"],(function(e,t){var r={},o={},n={},s={},i={};return{setters:[function(e){r.default=e.default},function(e){o.JimuMapViewComponent=e.JimuMapViewComponent},function(e){n.React=e.React,n.classNames=e.classNames,n.getAppStore=e.getAppStore},function(e){s.useEffect=e.useEffect,s.useRef=e.useRef,s.useState=e.useState},function(e){i.Button=e.Button}],execute:function(){e((()=>{var e={791:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2 2.707v1.45a.5.5 0 0 1-1 0V1h3.05a.5.5 0 1 1 0 1H2.707L8 7.29 13.293 2H11.95a.5.5 0 1 1 0-1H15v3.156a.5.5 0 0 1-1 0v-1.45L8.707 7.999l5.29 5.289v-1.55a.5.5 0 1 1 1 0V15H11.84a.5.5 0 1 1 0-1h1.456L8 8.705 2.704 14h1.453a.5.5 0 1 1 0 1H1v-3.263a.5.5 0 0 1 1 0v1.553l5.293-5.292L2 2.707Z" clip-rule="evenodd"></path></svg>'},900:e=>{"use strict";e.exports=r},826:e=>{"use strict";e.exports=o},891:e=>{"use strict";e.exports=n},315:e=>{"use strict";e.exports=s},726:e=>{"use strict";e.exports=i}},t={};function u(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,u),n.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="";var a={};return u.p=window.jimuConfig.baseUrl,(()=>{"use strict";u.r(a),u.d(a,{__set_webpack_public_path__:()=>h,default:()=>d});var e=u(900),t=u(826),r=u(891),o=u(315),n=u(726);function s(e){return null!=e&&"function"==typeof e[Symbol.iterator]}class i{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(s(e)){const r=this._getOrCreateGroup(t);for(const t of e)this._isHandle(t)&&r.push(t)}else this._isHandle(e)&&this._getOrCreateGroup(t).push(e);return this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if("string"!=typeof e&&s(e)){for(const t of e)this.remove(t);return this}return this.has(e)?(this._removeAllFromGroup(this._getGroup(e)),this._groups.delete(this._ensureGroupKey(e)),this):this}removeAll(){return this._groups.forEach((e=>this._removeAllFromGroup(e))),this._groups.clear(),this}_isHandle(e){return e&&(!!e.remove||e instanceof i)}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}_removeAllFromGroup(e){for(const t of e)t instanceof i?t.removeAll():t.remove()}}var c=u(791),l=u.n(c);const p=e=>{const t=window.SVG,{className:o}=e,n=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}(e,["className"]),s=(0,r.classNames)("jimu-icon jimu-icon-component",o);return t?r.React.createElement(t,Object.assign({className:s,src:l()},n)):r.React.createElement("svg",Object.assign({className:s},n))};var f=function(e,t,r,o){return new(r||(r=Promise))((function(n,s){function i(e){try{a(o.next(e))}catch(e){s(e)}}function u(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}a((o=o.apply(e,t||[])).next())}))};const d=s=>{var u;const[a,c]=(0,o.useState)(null),[l,d]=(0,o.useState)(""),[h,m]=(0,o.useState)(""),[v,g]=(0,o.useState)(0),[y,_]=(0,o.useState)(0),[w,b]=(0,o.useState)(!1),{config:x}=s,S=(0,o.useRef)(new i);return(0,o.useEffect)((()=>{a&&(w?(a.view.container.style.cursor="crosshair",S.current.add(a.view.on("click",(t=>f(void 0,void 0,void 0,(function*(){const r=a.view.toMap({x:t.x,y:t.y}),o=yield(n=r,f(void 0,void 0,void 0,(function*(){return yield e.default.load(),e.default.project(n,{wkid:2039})})));var n;d(r.latitude.toFixed(3)),m(r.longitude.toFixed(3)),_(Math.round(1*a.view.scale)/1),g(a.view.zoom);const s={x:o.x,y:o.y,z:o.z,project:x.projectName},i=new URLSearchParams(s).toString();window.open(`https://www.sol-israel.co.il/oblivisionJS/index.aspx?${i}`,"_blank"),b(!1)})))))):(a.view.container.style.cursor="default",S.current.destroy()))}),[w]),(0,o.useEffect)((()=>{const{lon:e,lat:t,level:o}=(0,r.getAppStore)().getState().queryObject;a&&a.view.goTo({center:[Number(e),Number(t)],zoom:o}).catch((e=>{"AbortError"!=e.name&&console.error(e)}))}),[a]),r.React.createElement("div",{className:"widget-demo jimu-widget m-2"},s.hasOwnProperty("useMapWidgetIds")&&s.useMapWidgetIds&&1===s.useMapWidgetIds.length&&r.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(u=s.useMapWidgetIds)||void 0===u?void 0:u[0],onActiveViewChange:e=>{e&&c(e)}}),r.React.createElement(n.Button,{id:"my","aria-label":"Button",icon:!0,onClick:e=>{b(!w)},size:"default",type:w?"primary":"default"},r.React.createElement(p,null)))};function h(e){u.p=e}})(),a})())}}}));